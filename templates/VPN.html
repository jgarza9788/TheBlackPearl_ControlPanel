{% extends "base.html" %}
{% block content %}



<script>
  $(document).ready(function() {
      $('#getVPNstatus').click(function() {
          $.ajax({
              url: '/getVPNstatus',
              type: 'POST',
              success: function(response) {
                  console.log('Success:',response);
                  updateVPNStatus(response);
              },
              error: function(error) {
                  console.log('Error:', error);
              }
          });
      });

      $('#REVPN').click(function() {
          $.ajax({
              url: '/activateVPN',
              type: 'POST',
              success: function(response) {
                  console.log('Success:',response);
                  updateVPNStatus(response);
              },
              error: function(error) {
                  console.log('Error:', error);
              }
          });
      });

      $('#KILLVPN').click(function() {
          $.ajax({
              url: '/killVPN',
              type: 'POST',
              success: function(response) {
                  console.log('Success:',response);
                  updateVPNStatus(response);
              },
              error: function(error) {
                  console.log('Error:', error);
              }
          });
      });
  });

  function updateVPNStatus(response)
  {
    console.log('updateVPNStatus();');
    var VPNON = document.getElementById("VPNON");
    var VPNOFF = document.getElementById("VPNOFF");
    if (response.VPN_ON == true)
    {
      VPNON.classList.remove('d-none');
      VPNOFF.classList.add('d-none');
    }
    else
    {
      VPNON.classList.add('d-none');
      VPNOFF.classList.remove('d-none');
    }
  }

</script> 



<div class="vpn-grid mxw500">
  <a class="fs-2 rounded-6 shadow-0-strong btn btn-dark" id="getVPNstatus" >
  <!-- href="{{ url_for('getVPNstatus') }}">  -->
      
    {% if VPN_ON %}

    <div id="VPNON" class="w-100 h-100 text-success d-flex align-items-center justify-content-center">
      VPN Status: ON
    </div>
    <div id="VPNOFF" class="w-100 h-100 text-danger d-flex align-items-center d-none justify-content-center">
      VPN Status: OFF
    </div>

    {% else %}

    <div id="VPNON" class="w-100 h-100 text-success d-flex align-items-center d-none justify-content-center">
      VPN Status: ON
    </div>
    <div id="VPNOFF" class="w-100 h-100 text-danger d-flex align-items-center justify-content-center">
      VPN Status: OFF
    </div>

    {% endif %}

  </a>

  <a id="REVPN" class="fs-2 rounded-6 shadow-5-strong btn btn-success row_iti" >
      <i class="nf nf-md-shield_sync"></i>
      re-VPN
  </a>

  <a id="KILLVPN" class="fs-2 rounded-6 shadow-5-strong btn btn-danger row_iti">
    <i class="nf nf-md-skull_crossbones"></i>
    kill-VPN
  </a>
</div>

{% endblock %}

