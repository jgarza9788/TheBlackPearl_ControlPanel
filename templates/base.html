<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta http-equiv="refresh" content="5" > -->

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />

    <title>TheBlackPearl</title>
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> -->
    

    <!-- Font Awesome -->
    <!-- <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    rel="stylesheet"
    /> -->

    <!-- Google Fonts -->
    <!-- <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    rel="stylesheet"
    /> -->

    <!-- MDB -->
    <!-- <link
    href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.0/mdb.min.css"
    rel="stylesheet"
    /> -->

    <!-- bootstrap -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"> -->

    <!-- custom bootstrap -->
    <link rel="stylesheet" href="{{ url_for('static', filename='BootStrap_scss/bootstrap.css')}}">

    <!-- bootswatch -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/cosmo/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/vapor/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/quartz/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/sandstone/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/yeti/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/zephyr/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/superhero/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/cyborg/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/flatly/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/superhero/bootstrap.min.css" rel="stylesheet"> -->

    <!-- bootstrap-icons -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"> -->

    <!-- mdi icons-->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@6.9.96/css/materialdesignicons.min.css"> -->

    <!-- nerd fonts -->
    <link rel="stylesheet" href="https://www.nerdfonts.com/assets/css/webfont.css">

    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css')}}"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css')}}">

    <!-- JQuery -->
    <!-- <script src="https://code.jquery.com/jquery-3.6.1.slim.min.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-3.6.1.min.js" ></script> -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" ></script>

    <!-- <script src="https://code.jquery.com/jquery-2.2.4.min.js" ></script> -->
    <!-- <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> -->
    <!-- <script src="https://code.jquery.com/mobile/1.0.0/jquery.mobile-1.0.0.min.js"></script> -->
    

    <!-- animate -->
    <!-- https://animate.style/#usage -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/> -->
    
</head>

<body>





<!-- popper -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>

<!-- bootstrap js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- MDB -->
<!-- <script
type="text/javascript"
src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.0/mdb.min.js"
></script> -->


<script >
    $(document).ready(function(){
        setTimeout(function(){
            toggle_menu();
        }, 333);


        console.log('{{title}}');
        console.log(window.location.href);

        this_url = window.location.href;

        var icon = document.getElementById("icon");
        if (this_url.includes('home'))
        {
            icon.classList.add('nf-md-skull');
        }
        else if (this_url.includes('VPN'))
        {
            icon.classList.add('nf-md-shield_star');
        }
        else if (this_url.includes('movies'))
        {
            icon.classList.add('nf-md-filmstrip');
        }
        else if (this_url.includes('shows'))
        {
            icon.classList.add('nf-md-television_classic');
        }
        else if (this_url.includes('login'))
        {
            icon.classList.add('nf-md-login');
        }
        else if (this_url.includes('logout'))
        {
            icon.classList.add('nf-md-logout');
        }
        else if (this_url.includes('roulette'))
        {
            icon.classList.add('nf-md-dice_multiple');
        }
        else
        {
            icon.classList.add('nf-md-skull');
        }
        
    });
</script>

<script >
    var menu_hide_icon = "nf-md-menu";
    // var menu_show_icon = "nf-md-menu_open";
    var menu_show_icon = "nf-fa-arrow_left";

    function toggle_menu(){
        var icon = document.getElementById("menu-icon");
        var content_card = document.getElementById("content");
        content_card.classList.add("td666");

        // Console.log(content_card);
    
        if ( content_card.classList.contains('menu-show') )
        {    
            icon.classList.add(menu_hide_icon);
            icon.classList.remove(menu_show_icon);

            content_card.classList.add("menu-hide");
            content_card.classList.remove("menu-show");
        }
        else
        {
            icon.classList.add(menu_show_icon);
            icon.classList.remove(menu_hide_icon);

            content_card.classList.remove("menu-hide");
            content_card.classList.add("menu-show");
        }
    }

    function show_menu(){
        console.log('Show Menu');
        var icon = document.getElementById("menu-icon");
        var content_card = document.getElementById("content");
        content_card.classList.add("td666");

        icon.classList.add(menu_show_icon);
        icon.classList.remove(menu_hide_icon);

        content_card.classList.remove("menu-hide");
        content_card.classList.add("menu-show");
    }

    function hide_menu(){
        console.log('Hide Menu');
        var icon = document.getElementById("menu-icon");
        var content_card = document.getElementById("content");
        content_card.classList.add("td666");

        icon.classList.add(menu_hide_icon);
        icon.classList.remove(menu_show_icon);

        content_card.classList.add("menu-hide");
        content_card.classList.remove("menu-show");
    }
</script>


<script>

    
    $(document).ready(function(){

        //https://stackoverflow.com/questions/53192433/how-to-detect-swipe-in-javascript#53192539
        

    // $("#content").swiperight(function() {
    //     show_menu();
    // });

    // $("#content").swiperight(function() {
    //     hide_menu();
    // });

    /*
    $('#content').on("swipe",function(event) {

        console.log(event);
        console.log(event.swipestart.coords)

        //swipe right
        if ( 
            event.swipestart.coords[0] < event.swipestop.coords[0] && 
            (event.swipestart.coords[1]*0.75) < event.swipestop.coords[1] < (event.swipestart.coords[1]*1.25)
            ) 
        {
            show_menu();
        }
        //swipe left
        if ( 
            event.swipestart.coords[0] > event.swipestop.coords[0] && 
            (event.swipestart.coords[1]*0.75) < event.swipestop.coords[1] < (event.swipestart.coords[1]*1.25)
            ) 
        {
            hide_menu();
        }

        });
    */
    
    })
</script>

<script>
    $(document).ready(function(){
    
    $('.anim-primary').click(function(event) {

        var button = $(event.target);
        console.log(button);
        
        button.addClass('anim-primary-effect');

        setTimeout(function(){
            button.removeClass('anim-primary-effect');
        }, 777);
    });


    $('.downloadbtn').click(function(event) {

        var button = $(event.target);
        console.log(button);
        
        button.find('.nf').removeClass('nf-md-dice_multiple');
        button.find('.nf').addClass('nf-md-timelapse');
        button.find('.label').text('Loading...');

        
    });


    /*
    $('.btn-primary').click(function(event) {

        var button = $(event.target);
        console.log(button);
        button.addClass('anim-primary-effect');

        setTimeout(function(){
            button.removeClass('anim-primary-effect');
        }, 777);
    });
    */
    
    })
</script>


<!---->

{% import 'backgroundeffect.j2' as bge -%}


{#
speed, red, blue, green    
#}


{{ bge.bge(0.01,29.0/255.0,155.0/255.0,240.0/255.0) }}


{#
{{ bge.bge(1.0.0,0.03921,0.7294,0.7098) }}
#}

<!---->

<!-- Modal -->
<div class="modal fade" id="FileModal" tabindex="-5" aria-labelledby="FileModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content blur-background-filter">
        <!-- <div class="modal-header text-light border-0">
          <h1 class="modal-title fs-3" id="FileModalLabel">Modal title</h1>
          <button type="button" class="btn-close bg-danger" data-bs-dismiss="modal" aria-label="Close">
          </button>
        </div> -->
        <div class="modal-header text-light border-0 h6r row_tc">
            <h1 class="modal-title fs-3" id="FileModalLabel">Modal title</h1>
            <a type="button" class="btn btn-danger fs-4 icon-only w-100 h-100" data-bs-dismiss="modal" aria-label="Close" >
                <i class="nf nf-cod-close"></i>
            </a>
          </div>
        <div class="modal-body text-wrap text-light fs-4">
          ...
        </div>
        <div class="modal-footer border-0">
            <!-- <div></div> -->
          <!-- <button type="button" class="btn btn-secondary h4r" data-bs-dismiss="modal">Close</button> -->
            <a id="downloadbtn" type="button" class="downloadbtn btn btn-primary fs-4 row_iti h4r" href="">
                <i class="nf nf-md-download"></i>
                <span class="label">Download</span>
            </a>
        </div>
      </div>
    </div>
  </div>


<ul class="menu">

    {#
    {% import 'macro1.j2' as m1 -%}
    {{ m1.input('justin', value='', type='text') }}
    #}

    {% if logged_in %}
    
    <a class="btn btn-dark row_iti fs-4 blur-background-filter shadow-xlg" href="{{ url_for('logout') }}">     <i class="nf nf-md-logout"></i> Logout </a>
    <a class="btn btn-dark row_iti fs-4 blur-background-filter shadow-xlg" href="{{ url_for('home') }}">       <i class="nf nf-md-skull"></i> Home </a>
    <a class="btn btn-dark row_iti fs-4 blur-background-filter shadow-xlg" href="{{ url_for('movies') }}">     <i class="nf nf-md-filmstrip"></i> Movies </a>

    <a class="btn btn-dark row_iti fs-4 blur-background-filter shadow-xlg" href="{{ url_for('shows') }}">     <i class="nf nf-md-television_classic"></i> Shows </a>

    
    <a class="btn btn-dark row_iti fs-4 blur-background-filter shadow-xlg" href="{{ url_for('Movie_Roulette') }}">     
        <i class="nf nf-md-dice_multiple"></i> 
        <span class="fs-6 text-wrap">
            Movie<br/ >Roulette 
        </span>
    </a>

    <a class="btn btn-dark row_iti fs-4 blur-background-filter shadow-xlg" href="https://app.plex.tv/">  
    <i class="nf nf-md-plex"></i>       
    Plex 
    </a>
        
    
    {#
    <a class="btn btn-dark row_iti fs-4 blur-background-filter" href="{{ url_for('NordVPN') }}">        
    <i>
        <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>NordVPN</title><path d="M2.2838 21.5414A11.9866 11.9866 0 010 14.4832C0 7.8418 5.3727 2.4586 12 2.4586c6.6279 0 12 5.3832 12 12.0246a11.9853 11.9853 0 01-2.2838 7.0582l-5.7636-9.3783-.5565.9419.5645 2.6186L12 8.9338l-2.45 4.1447.5707 2.6451-2.0764-3.5555-5.7605 9.3733z"/></svg>
    </i> 
    NordVPN 
    </a>
    #}
    

    {% else %}
    
    <a class="btn btn-dark row_iti fs-4 blur-background-filter" href="{{ url_for('login') }}">     <i class="nf nf-md-login"></i> Login </a>
    <a class="btn btn-dark row_iti fs-4 blur-background-filter disabled " >     <i class="nf nf-md-skull"></i> Home </a>
    <a class="btn btn-dark row_iti fs-4 blur-background-filter disabled " >     <i class="nf nf-md-filmstrip"></i> Movies </a>
    <a class="btn btn-dark row_iti fs-4 blur-background-filter disabled " >     <i class="nf nf-md-television_classic"></i> Shows </a>
    <a class="btn btn-dark row_iti fs-4 blur-background-filter disabled " >     
        <i class="nf nf-md-dice_multiple"></i> 
        <span class="fs-6 text-wrap">
            Movie<br/ >Roulette 
        </span>
    </a>
    <a class="btn btn-dark row_iti fs-4 blur-background-filter disabled " >     
        <i class="nf nf-md-plex"></i>       
        Plex 
    </a>
    {#
    <a class="btn btn-dark row_iti fs-4 blur-background-filter disabled " href="{{ url_for('VPN') }}">        <i class="nf nf-md-shield_star"></i> VPN </a>
    #}

    {% endif %}

</ul>

<div class="bg-darkx blur-background-filter rounded-3 shadow-xlg td666 menu-show" id="content">
    <div class="base-grid">
        <div class="row_iti">
            <a class="btn btn-primary anim-primary w-100 h-100 fs-4 icon-only" id="menu-button" onclick="toggle_menu()">
                <!-- <i class="bi bi-arrow-right"></i> -->
                <!-- <i class="bi bi-list"></i> -->
                <!-- <i class="mdi mdi-menu"></i> -->
                <i id="menu-icon" class="nf "></i>
                <!-- > -->
            </a>

            <div class="head text-white text-center text-capitalize fs-4 page-title">
                <!-- <i class="mdi mdi-pirate"></i> -->
                <i id="icon" class="nf "></i>
                <div class="space"></div>
                {{title}}
            </div>
        </div>

        {% block content %}
        {% endblock %}

        {% with messages = get_flashed_messages(category_filter=["error"]) %}
        {% if messages %}
            {% for message in messages %}
                <!-- {{ message }} -->
                <span class="badge bg-danger shadow-5-strong">{{ message }}</span>
            {% endfor %}
        {% endif %}
        {% endwith %}

    </div>
</div>


  
</body>

</html>